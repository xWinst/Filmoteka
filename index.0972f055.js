!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired76b;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired76b=o),o("iE7OH").register(JSON.parse('{"EVgbq":"index.0972f055.js","ldJEg":"loading.350e3054.svg","6IIJ4":"my-library.1b84ee1b.js"}'));var i,a=o("bpxeT"),c=o("2TvXO"),u=o("l5bVx"),s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,g=v||y||Function("return this")(),h=Object.prototype.toString,b=Math.max,m=Math.min,x=function(){return g.Date.now()};function S(t){var n=void 0===t?"undefined":e(u)(t);return!!t&&("object"==n||"function"==n)}function _(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(u)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(S(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=S(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=d.test(t);return r||f.test(t)?p(t.slice(2),r?2:8):l.test(t)?NaN:+t}i=function(e,t,n){var r,o,i,a,c,u,s=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function v(e){return s=e,c=setTimeout(g,t),l?p(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-s>=i}function g(){var e=x();if(y(e))return h(e);c=setTimeout(g,function(e){var n=t-(e-u);return d?m(n,i-(e-s)):n}(e))}function h(e){return c=void 0,f&&r?p(e):(r=o=void 0,a)}function w(){var e=x(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return v(u);if(d)return c=setTimeout(g,t),p(u)}return void 0===c&&(c=setTimeout(g,t)),a}return t=_(t)||0,S(n)&&(l=!!n.leading,i=(d="maxWait"in n)?b(_(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},w.flush=function(){return void 0===c?a:h(x())},w};var w=o("iU1Pc"),E=o("j8LT4"),L=o("jcFG7"),T=(a=o("bpxeT"),c=o("2TvXO"),o("fKcg4")),k=document.querySelector("#genre_choice"),q=document.querySelector("#year_choice"),O=(document.querySelector("#sort_choice"),document.querySelectorAll(".filter__input")),j=(document.querySelector(".gallery"),document.querySelector(".header__search")),F=document.querySelector("#genre_checkbox");function A(e){return H.apply(this,arguments)}function H(){return(H=e(a)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("sort"!==n.target.name){e.next=3;break}return ue(n.target.value),e.abrupt("return");case 3:te[n.target.name]=n.target.value,re();case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function R(){F.checked?(j.setAttribute("style","opacity: 0; pointer-events: none;"),k.removeAttribute("style")):(k.setAttribute("style","opacity: 0; pointer-events: none;"),j.removeAttribute("style"))}w=o("iU1Pc");var M,N=window.SpeechRecognition||window.webkitSpeechRecognition,z=document.querySelector(".header__btn-mic"),J=document.querySelector(".header__icon-record"),D=!0;try{(M=new N).lang="en-EN",M.interimResults=!1,M.maxAlternatives=1,M.onnomatch=function(e){alert("I didn't recognise that movie."),J.classList.add("visually-hidden"),z.classList.remove("-active"),M.stop()},M.onerror=function(e){alert("Error occurred in recognition: ".concat(e.error)),J.classList.add("visually-hidden"),z.classList.remove("-active"),M.stop()}}catch(e){D=!1}function I(e){var t=e.results[0][0].transcript;P.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),M.onspeechend=(M.removeEventListener("result",I),J.classList.add("visually-hidden"),z.classList.remove("-active"),void M.stop())),P.dispatchEvent(new Event("input"))}var U,$=o("3BGx8"),B=o("9XBOy"),C=o("dW3bE"),V=o("dz7DT"),W=o("dyT35");U=o("aNJCr").getBundleURL("EVgbq")+o("iE7OH").resolve("ldJEg");var X,G=W.create('<div class="loading">\n        <h2 class="loading__title">Loading ... </h2>\n        <img class="loading__icon" src="'.concat(e(U),'"/>\n    </div>')),P=document.querySelector("#search-box"),Y=document.querySelector("#genre_checkbox"),K=document.querySelector(".gallery"),Q=document.querySelector("#tui-pagination-container"),Z=document.querySelector(".footer__link"),ee=document.querySelector(".link__up"),te=new(0,E.default),ne="";function re(){return oe.apply(this,arguments)}function oe(){return(oe=e(a)(e(c).mark((function t(){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te.query=P.value.trim(),e.next=3,ae();case 3:(n=e.sent).total_results>20?(Q.removeAttribute("style"),(0,L.default)(n.total_results,20).on("afterMove",ie)):(n.total_results||w.Report.failure("Search result not successful &#9785 ","Enter the correct movie name and try again.","Okay",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px"}),Q.setAttribute("style","display: none"));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ie(e){te.page=e.page,ae()}function ae(){return ce.apply(this,arguments)}function ce(){return(ce=e(a)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G.show(),e.prev=1,!Y.checked&&!te.year){e.next=9;break}return e.next=5,te.filter();case 5:(X=e.sent).total_results>1e4&&(X.total_results=1e4),e.next=19;break;case 9:if(!te.query){e.next=15;break}return e.next=12,te.search();case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,te.getTrend();case 17:e.t0=e.sent;case 18:X=e.t0;case 19:ne&&X.results.sort((function(e,t){return t[ne]-e[ne]})),K.innerHTML=(0,B.default)(X.results),localStorage.setItem("gallery",JSON.stringify(X.results)),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(1),w.Notify.failure(e.t1),console.log(e.t1);case 28:return G.close(),console.log(X),e.abrupt("return",X);case 31:case"end":return e.stop()}}),t,null,[[1,24]])})))).apply(this,arguments)}function ue(e){ne=e,X.results.sort((function(e,t){return t[ne]-e[ne]})),K.innerHTML=(0,B.default)(X.results)}window.addEventListener("scroll",(function(){window.pageYOffset<100?ee.classList.add("visually-hidden"):ee.classList.remove("visually-hidden")})),K.addEventListener("click",C.default),P.addEventListener("input",e(i)(re,300)),Z.addEventListener("click",V.default),O.forEach((function(e){return e.addEventListener("change",A)})),function(){var t=Object.keys(e(T)),n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;n.push('<option value="'.concat(u,'">').concat(e(T)[u],"</option>"))}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}k.insertAdjacentHTML("beforeend",n.join(""))}(),function(){var e=1969,t=(new Date).getFullYear(),n=[];q.insertAdjacentHTML("beforeend",'<option value="">All years</option>');for(var r=t;r>e;r-=1)n.push('<option value="'.concat(r,'">').concat(r,"</option>"));q.insertAdjacentHTML("beforeend",n.join(""))}(),R(),F.addEventListener("change",R),z.addEventListener("click",(function(){P.value="",D?(M.addEventListener("result",I),J.classList.remove("visually-hidden"),z.classList.add("-active"),M.start()):w.Report.failure("Sorry, your browser doesn't suppurt speech recognition","Try using Chrome, Edge or Safari","Okey",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px",titleMaxLength:54})})),(0,$.default)(),re()}();
//# sourceMappingURL=index.0972f055.js.map
