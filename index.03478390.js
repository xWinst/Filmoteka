function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired76b;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired76b=o),o("kyEFX").register(JSON.parse('{"5ZPII":"index.03478390.js","hujIJ":"loading.350e3054.svg","4627Z":"my-library.38d071dd.js"}'));var i,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),v=Object.prototype.toString,y=Math.max,g=Math.min,m=function(){return p.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==v.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}i=function(e,t,n){var r,o,i,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function v(e){return u=e,s=setTimeout(_,t),l?p(e):a}function S(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=i}function _(){var e=m();if(S(e))return w(e);s=setTimeout(_,function(e){var n=t-(e-c);return d?g(n,i-(e-u)):n}(e))}function w(e){return s=void 0,f&&r?p(e):(r=o=void 0,a)}function x(){var e=m(),n=S(e);if(r=arguments,o=this,c=e,n){if(void 0===s)return v(c);if(d)return s=setTimeout(_,t),p(c)}return void 0===s&&(s=setTimeout(_,t)),a}return t=b(t)||0,h(n)&&(l=!!n.leading,i=(d="maxWait"in n)?y(b(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=o=s=void 0},x.flush=function(){return void 0===s?a:w(m())},x};var S=o("eWCmQ"),_=o("b3q81"),w=o("2nhTy"),x=o("eRClg");const L=document.querySelector("#genre_choice"),E=document.querySelector("#year_choice"),j=(document.querySelector("#sort_choice"),document.querySelectorAll(".filter__input")),q=(document.querySelector(".gallery"),document.querySelector(".header__search")),F=document.querySelector("#genre_checkbox");async function T(e){"sort"!==e.target.name?(P[e.target.name]=e.target.value,K()):te(e.target.value)}function O(){F.checked?(q.setAttribute("style","opacity: 0"),L.removeAttribute("style")):(L.setAttribute("style","opacity: 0"),q.removeAttribute("style"))}S=o("eWCmQ");const R=window.SpeechRecognition||window.webkitSpeechRecognition,k=document.querySelector(".header__btn-mic"),A=document.querySelector(".header__icon-record");let H,M=!0;try{H=new R,H.lang="en-EN",H.interimResults=!1,H.maxAlternatives=1,H.onnomatch=function(e){alert("I didn't recognise that movie."),A.classList.add("visually-hidden"),k.classList.remove("-active"),H.stop()},H.onerror=function(e){alert(`Error occurred in recognition: ${e.error}`),A.classList.add("visually-hidden"),k.classList.remove("-active"),H.stop()}}catch{M=!1}function N(e){const t=e.results[0][0].transcript;U.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),H.onspeechend=(H.removeEventListener("result",N),A.classList.add("visually-hidden"),k.classList.remove("-active"),void H.stop())),U.dispatchEvent(new Event("input"))}var $,z=o("8pSXg"),I=o("g4lwF"),C=o("hRJgH"),J=o("l63jN"),D=o("9B8F0");$=new URL(o("kyEFX").resolve("hujIJ"),import.meta.url).toString();var W=D.create(`<div class="loading">\n        <h2 class="loading__title">Loading ... </h2>\n        <img class="loading__icon" src="${e($)}"/>\n    </div>`);const U=document.querySelector("#search-box"),X=document.querySelector("#genre_checkbox"),Q=document.querySelector(".gallery"),Z=document.querySelector("#tui-pagination-container"),B=document.querySelector(".footer__link"),P=new(0,_.default);let Y,G="";async function K(){P.query=U.value.trim();const e=await ee();let t;e.total_results>20?(Z.removeAttribute("style"),t=(0,w.default)(e.total_results,20),t.on("afterMove",V)):(e.total_results||S.Report.failure("Search result not successful &#9785 ","Enter the correct movie name and try again.","Okay",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px"}),Z.setAttribute("style","display: none"))}function V(e){P.page=e.page,ee()}async function ee(){W.show();try{X.checked||P.year?(Y=await P.filter(),Y.total_results>1e4&&(Y.total_results=1e4)):Y=P.query?await P.search():await P.getTrend(),G&&Y.results.sort(((e,t)=>t[G]-e[G])),Q.innerHTML=(0,I.default)(Y.results),localStorage.setItem("gallery",JSON.stringify(Y.results))}catch(e){S.Notify.failure(e),console.log(e)}return W.close(),console.log(Y),Y}function te(e){G=e,Y.results.sort(((e,t)=>t[G]-e[G])),Q.innerHTML=(0,I.default)(Y.results)}Q.addEventListener("click",C.default),U.addEventListener("input",e(i)(K,300)),B.addEventListener("click",J.default),j.forEach((e=>e.addEventListener("change",T))),function(){const t=Object.keys(e(x)),n=[];for(const r of t)n.push(`<option value="${r}">${e(x)[r]}</option>`);L.insertAdjacentHTML("beforeend",n.join(""))}(),function(){let e=1969,t=(new Date).getFullYear(),n=[];E.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(let r=t;r>e;r-=1)n.push(`<option value="${r}">${r}</option>`);E.insertAdjacentHTML("beforeend",n.join(""))}(),O(),F.addEventListener("change",O),k.addEventListener("click",(function(){U.value="",M?(H.addEventListener("result",N),A.classList.remove("visually-hidden"),k.classList.add("-active"),H.start()):S.Report.failure("Sorry, your browser doesn't suppurt speech recognition","Try using Chrome, Edge or Safari","Okey",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px",titleMaxLength:54})})),(0,z.default)(),K();
//# sourceMappingURL=index.03478390.js.map
