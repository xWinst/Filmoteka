!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired76b;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired76b=o);var i,a=o("bpxeT"),u=o("2TvXO"),c=o("l5bVx"),s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,h=v||y||Function("return this")(),m=Object.prototype.toString,b=Math.max,g=Math.min,x=function(){return h.Date.now()};function S(t){var n=void 0===t?"undefined":e(c)(t);return!!t&&("object"==n||"function"==n)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(c)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==m.call(t)}(t))return NaN;if(S(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=S(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var r=d.test(t);return r||f.test(t)?p(t.slice(2),r?2:8):l.test(t)?NaN:+t}i=function(e,t,n){var r,o,i,a,u,c,s=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function v(e){return s=e,u=setTimeout(h,t),l?p(e):a}function y(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-s>=i}function h(){var e=x();if(y(e))return m(e);u=setTimeout(h,function(e){var n=t-(e-c);return d?g(n,i-(e-s)):n}(e))}function m(e){return u=void 0,f&&r?p(e):(r=o=void 0,a)}function L(){var e=x(),n=y(e);if(r=arguments,o=this,c=e,n){if(void 0===u)return v(c);if(d)return u=setTimeout(h,t),p(c)}return void 0===u&&(u=setTimeout(h,t)),a}return t=w(t)||0,S(n)&&(l=!!n.leading,i=(d="maxWait"in n)?b(w(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),L.cancel=function(){void 0!==u&&clearTimeout(u),s=0,r=c=o=u=void 0},L.flush=function(){return void 0===u?a:m(x())},L};var L=o("iU1Pc"),T=o("j8LT4"),E=o("jcFG7"),O=(a=o("bpxeT"),u=o("2TvXO"),o("fKcg4")),_=o("9XBOy"),j=document.querySelector("#genre_choice"),q=document.querySelector("#year_choice"),k=(document.querySelector("#sort_choice"),document.querySelectorAll(".filter__input")),F=document.querySelector(".gallery"),A=document.querySelector("#genre_checkbox"),M=document.querySelector(".header__search");function N(e){return R.apply(this,arguments)}function R(){return(R=e(a)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P[n.target.name]=n.target.value,e.next=3,P.filter();case 3:r=e.sent,F.innerHTML=(0,_.default)(r.results),localStorage.setItem("gallery",JSON.stringify(r.results));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function z(){A.checked?(M.setAttribute("style","opacity: 0"),j.removeAttribute("style")):(j.setAttribute("style","opacity: 0"),M.removeAttribute("style"))}L=o("iU1Pc");var H,D=window.SpeechRecognition||window.webkitSpeechRecognition,I=document.querySelector(".header__btn-mic"),U=document.querySelector(".header__icon-record"),X=!0;try{(H=new D).lang="en-EN",H.interimResults=!1,H.maxAlternatives=1,H.onnomatch=function(e){alert("I didn't recognise that movie."),U.classList.add("visually-hidden"),I.classList.remove("-active"),H.stop()},H.onerror=function(e){alert("Error occurred in recognition: ".concat(e.error)),U.classList.add("visually-hidden"),I.classList.remove("-active"),H.stop()}}catch(e){X=!1}function $(e){var t=e.results[0][0].transcript;W.value=t,e.results[0].isFinal&&(console.log("is Final",e.results[0].isFinal),H.onspeechend=(H.removeEventListener("result",$),U.classList.add("visually-hidden"),I.classList.remove("-active"),void H.stop())),W.dispatchEvent(new Event("input"))}var B=o("3BGx8"),C=(_=o("9XBOy"),o("dW3bE")),W=document.querySelector("#search-box"),G=document.querySelector(".gallery"),J=document.querySelector("#tui-pagination-container"),P=new(0,T.default);function K(){return V.apply(this,arguments)}function V(){return(V=e(a)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.query=W.value.trim(),e.next=3,Q();case 3:(n=e.sent).total_results>20?(J.removeAttribute("style"),(0,E.default)(n.total_results,20).on("afterMove",Y)):(n.total_results||L.Report.failure("Search result not successful &#9785 ","Enter the correct movie name and try again.","Okay",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px"}),J.setAttribute("style","display: none"));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Y(e){P.page=e.page,Q()}function Q(){return Z.apply(this,arguments)}function Z(){return(Z=e(a)(e(u).mark((function t(){var n;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=1,!P.query){e.next=8;break}return e.next=5,P.search();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,P.getTrend();case 10:e.t0=e.sent;case 11:n=e.t0,G.innerHTML=(0,_.default)(n.results),localStorage.setItem("gallery",JSON.stringify(n.results)),e.next=20;break;case 16:e.prev=16,e.t1=e.catch(1),L.Notify.failure(e.t1),console.log(e.t1);case 20:return console.log(n),e.abrupt("return",n);case 22:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}G.addEventListener("click",C.default),W.addEventListener("input",e(i)(K,300)),k.forEach((function(e){return e.addEventListener("change",N)})),A.addEventListener("change",z),function(){var t=Object.keys(e(O)),n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;n.push('<option value="'.concat(c,'">').concat(e(O)[c],"</option>"))}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}j.insertAdjacentHTML("beforeend",n.join(""))}(),function(){var e=1969,t=(new Date).getFullYear(),n=[];q.insertAdjacentHTML("beforeend",'<option value="">Choose year</option>');for(var r=t;r>e;r-=1)n.push('<option value="'.concat(r,'">').concat(r,"</option>"));q.insertAdjacentHTML("beforeend",n.join(""))}(),z(),I.addEventListener("click",(function(){W.value="",X?(H.addEventListener("result",$),U.classList.remove("visually-hidden"),I.classList.add("-active"),H.start()):L.Report.failure("Sorry, your browser doesn't suppurt speech recognition","Try using Chrome, Edge or Safari","Okey",{width:"400px",svgSize:"100px",titleFontSize:"20px",messageFontSize:"18px",buttonFontSize:"20px",borderRadius:"10px",titleMaxLength:54})})),(0,B.default)(),K()}();
//# sourceMappingURL=index.78aefef5.js.map
